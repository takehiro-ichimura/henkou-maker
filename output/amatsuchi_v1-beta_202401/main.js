(()=>{const e=(e,t)=>{let n=t.innerHTML+"";e.forEach((e=>{n=n.replace(`<span class="auto-burasage">${e}</span>`,e)}));let a=[];Array.prototype.forEach.call(n,(t=>{e.includes(t)&&a.push(t)}));let s=n.split(/。|、|」|』|〟|）|\)/);t.innerHTML=n;let r="";for(let e=0;e<s.length;e++){if(targetStr=a[e],r+=s[e],e==s.length-1){t.innerHTML=r;break}t.innerHTML=r+targetStr;const n=t.innerHTML+"",i=t.clientWidth;t.innerHTML=r+`<span class="auto-burasage">${targetStr}</span>`,t.clientWidth>=i?(t.innerHTML=n,r+=targetStr):r+=`<span class="auto-burasage">${targetStr}</span>`}},t=t=>{console.debug("burasage");const n=t.getElementsByTagName("p");for(let t=0;t<n.length;t++){const a=["。","、","」","』","〟","）",")"],s=n[t];s.classList.contains("burasage-off")||e(a,s)}},n=e=>{let n=window.innerHeight;t(e),window.addEventListener("resize",(function(){n!=window.innerHeight&&(t(e),n=window.innerHeight)}))};document.addEventListener("DOMContentLoaded",(function(e){(()=>{const e=document.getElementsByClassName("amatsuchi");for(let t=0;t<e.length;t++){const a=e[t];a.classList.contains("burasage")&&n(a)}})()}))})();